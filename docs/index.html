<!DOCTYPE html> <html lang="EN"> <head> <meta charset="utf-8"> <title>Modularize Hooks</title> <style>html body{margin:0 auto 0 auto;padding:20px;max-width:1024px;font-family:sans-serif;font-size:14pt;overflow-y:scroll;}html body a{text-decoration:none;}html body a[href]{color:#0055AA;}html body a[href]:hover{color:#0088EE;}html body pre{background:#FAFAFA;border:1px solid #DDDDDD;padding:0.75em;overflow-x:auto;}html body pre >code a[href]{color:#223388;}article.project h1{font-size:1.7em;}article.project h1,article.project h2,article.project h3,article.project h4,article.project h5,article.project h6{margin:0.2em 0 0.1em 0;text-indent:1em;}article.project >header{text-align:center;}article.project >header img.logo{display:block;margin:auto;max-height:170px;}article.project >header h1{display:inline-block;text-indent:0;font-size:2.5em;}article.project >header .version{vertical-align:bottom;}article.project >header .languages{margin-top:-0.5em;text-transform:capitalize;}article.project >header .description{margin:0;}article.project >header .pages{margin-top:0.5em;font-size:1.2em;text-transform:capitalize;}article.project >header .pages a{display:inline-block;padding:0 0.2em;}article.project >section{margin:1em 0 1em 0;}article.project >section img{max-width:100%;}article.project #index >ul{list-style:none;margin:0;padding:0;}article.project .row label{display:inline-block;min-width:8em;}article.project #system .row{display:flex;}article.project #system #dependencies{display:inline;margin:0;padding:0;}article.project #system #dependencies li{display:inline;padding:0 0.2em;}article.project #system #author label{vertical-align:top;}article.project #system #author ul{display:inline-block;margin:0;padding:0;list-style:none;}article.project #toc nav>*{margin-left:1em;display:block;}article.definition{margin:1em 0 0 0;}article.definition >header h1,article.definition >header h2,article.definition >header h3,article.definition >header h4,article.definition >header h5,article.definition >header h6{text-indent:0;display:inline-block;}article.definition >header ul{display:inline-block;list-style:none;margin:0;padding:0;}article.definition >header ul li{display:inline-block;padding:0 0.2em 0 0;}article.definition >header .visibility{display:none;}article.definition >header .visibility,article.definition >header .type{text-transform:lowercase;}article.definition >header .source-link{visibility:hidden;float:right;}article.definition >header .source-link:after{visibility:visible;content:"[SRC]";}article.definition .docstring{margin:0 0 0 1em;}article.definition .docstring pre{font-size:0.8em;white-space:pre-wrap;}.definition.package >header ul.nicknames{display:inline-block;list-style:none;margin:0;padding:0 0 0 1em;}.definition.package >header ul.nicknames li{display:inline;}.definition.package >header ul.nicknames:before{content:"(";}.definition.package >header ul.nicknames:after{content:")";}.definition.package ul.definitions{margin:0;list-style:none;padding:0 0 0 0.5em;}.definition.callable >header .name:before,.definition.type >header .name:before{content:"(";font-weight:normal;}.definition.callable >header .arguments:after,.definition.type >header .arguments:after{content:")";}.definition.callable >header .arguments .arguments:before,.definition.type >header .arguments .arguments:before{content:"(";}.definition.callable >header .arguments .argument,.definition.type >header .arguments .argument{padding:0;}.definition.callable >header .arguments .argument.lambda-list-keyword,.definition.type >header .arguments .argument.lambda-list-keyword{color:#991155;}.definition li>mark{background:none;border-left:0.3em solid #0088EE;padding-left:0.3em;display:block;}@media (min-width: 1300px){html body{padding-left:16em;}article.project #toc{margin:0;position:fixed;left:0;top:0;bottom:0;width:15em;overflow-y:auto;background:#F0F0F0;border-right:1px solid #A0A0A0;}}</style> </head> <body> <article class="project"> <header>   <h1>modularize hooks</h1>   <span class="version">1.0.2</span>    <p class="description">Generic hooks and triggers extension for modularize.</p>   </header> <section id="toc"> <h2>Table of Contents</h2> <nav> <a href="#project">Top</a>  <a href="#documentation">Documentation</a> <nav> <a href="#about_modularize-hooks">About Modularize-Hooks</a>  <a href="#how_to">How To</a> </nav>  <a href="#system">System</a>  <a href="#system">Packages</a> <nav> <a href="#PACKAGE%20MODULARIZE-HOOKS">MODULARIZE-HOOKS</a> </nav>  </nav> </section>  <section id="documentation"><h2 id="about_modularize-hooks">About Modularize-Hooks</h2> <p>This is a simple extension to <a href="https://github.com/Shinmera/modularize">Modularize</a> that allows modules to define and trigger hooks, which other modules can... well, hook on to. While such a system is very easy to create for your own projects, it's a good idea to have a standard form of doing it that doesn't interfere in any other way. </p> <h2 id="how_to">How To</h2> <p>In order to define hooks, you need to have a module. See <a href="https://github.com/Shinmera/modularize">Modularize</a> on how to get that set up. If the modularize-hooks system has already been loaded prior to your module definition, everything should be ready and set up. Otherwise, you may call <code><a href="#FUNCTION%20MODULARIZE-HOOKS%3AHOOKIFY" class="xref">HOOKIFY</a></code> on your module to initialise it. Creating hooks is similar to creating generic functions:</p> <pre><code>(<a href="#MACRO-FUNCTION%20MODULARIZE-HOOKS%3ADEFINE-HOOK" class="xref">define-hook</a> documentation-finished (project)
  &quot;Hook called whenever documentation for a project is finished.&quot;)</code></pre> <p>This defines a hook with a single argument, the project. In order to latch on to this hook, you may define a trigger. It is not strictly necessary to be within a module context to define triggers, but it is recommended in order to keep things tidy.</p> <pre><code>(<a href="#MACRO-FUNCTION%20MODULARIZE-HOOKS%3ADEFINE-TRIGGER" class="xref">define-trigger</a> other-module:documentation-finished (project)
  (format T &quot;~&amp;Finished project documentation for ~a&quot; project))</code></pre> <p>If you want to have multiple triggers on the same hook within the same package, you need to specify some kind of identifier to distinguish it from others.</p> <pre><code>(<a href="#MACRO-FUNCTION%20MODULARIZE-HOOKS%3ADEFINE-TRIGGER" class="xref">define-trigger</a> (other-module:documentation-finished extra) ()
  (format T &quot;~&amp;ゆっくりしていってね！！！&quot;))</code></pre> <p>Note that in this second example we did not provide any arguments to the trigger. Triggers may either accept no arguments if they have no use for them, or they need to match the arguments list of the hook. A simple test to assert this is done on trigger definition. Actually triggering the hook with its trigger is merely a question of calling <code><a href="#FUNCTION%20MODULARIZE-HOOKS%3ATRIGGER" class="xref">TRIGGER</a></code>:</p> <pre><code>(<a href="#FUNCTION%20MODULARIZE-HOOKS%3ATRIGGER" class="xref">trigger</a> 'other-module:documentation-finished :modularize-hooks)</code></pre> </section>    <section id="system"> <h2>System Information</h2>  <div class="row"> <label for="version">Version:</label> <a id="version">1.0.2</a> </div>   <div class="row"> <label for="dependencies">Dependencies:</label> <ul id="dependencies"><li><a class="external" href="https://Shinmera.github.io/modularize/">modularize</a></li><li><a class="external">closer-mop</a></li><li><a class="external" href="https://Shinmera.github.io/trivial-arguments/">trivial-arguments</a></li><li><a class="external" href="https://Shinmera.github.io/lambda-fiddle/">lambda-fiddle</a></li></ul> </div>   <div class="row" id="author"> <label for="author">Author:</label> <a href="mailto:shinmera@tymoon.eu">Yukari Hafner</a> </div>   <div class="row"> <label for="license">License:</label> <a id="license" href="https://github.com/Shinmera/modularize-hooks/blob/5c46dec3e045d1f5c7fe92a4a920841abe766439/LICENSE">zlib</a> </div>   <div class="row"> <label for="homepage">Homepage:</label> <a id="homepage" href="https://Shinmera.github.io/modularize-hooks/">https://Shinmera.github.io/modularize-hooks/</a> </div>   <div class="row"> <label for="bug-tracker">Bug Tracker:</label> <a id="bug-tracker" href="https://github.com/Shinmera/modularize-hooks/issues">https://github.com/Shinmera/modularize-hooks/issues</a> </div>   <div class="row"> <label for="sources">Sources:</label> <a id="sources" href="https://github.com/Shinmera/modularize-hooks.git">https://github.com/Shinmera/modularize-hooks.git</a> </div>  </section>    <section id="index"> <h2>Definition Index</h2> <ul> <li> <article class="definition package" id="PACKAGE MODULARIZE-HOOKS"> <header> <h3> <a href="#PACKAGE%20MODULARIZE-HOOKS">MODULARIZE-HOOKS</a> </h3> <ul class="nicknames"> <li>ORG.SHIRAKUMO.RADIANCE.LIB.MODULARIZE.HOOKS</li>  <li>HOOKS</li> </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> <ul class="definitions"> <li> <article class="definition class" id="CLASS MODULARIZE-HOOKS:HOOK"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CLASS</span> <h4 class="name"> <a href="#CLASS%20MODULARIZE-HOOKS%3AHOOK">HOOK</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/modularize-hooks/blob/5c46dec3e045d1f5c7fe92a4a920841abe766439/hooks.lisp#L27">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition class" id="CLASS MODULARIZE-HOOKS:STICKY-HOOK"> <header> <span class="visibility">EXTERNAL</span> <span class="type">CLASS</span> <h4 class="name"> <a href="#CLASS%20MODULARIZE-HOOKS%3ASTICKY-HOOK">STICKY-HOOK</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments"></ul>  <a class="source-link" href="https://github.com/Shinmera/modularize-hooks/blob/5c46dec3e045d1f5c7fe92a4a920841abe766439/hooks.lisp#L139">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MODULARIZE-HOOKS:DEHOOKIFY"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MODULARIZE-HOOKS%3ADEHOOKIFY">DEHOOKIFY</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">MODULE</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/modularize-hooks/blob/5c46dec3e045d1f5c7fe92a4a920841abe766439/hooks.lisp#L14">Source</a>  </header> <div class="docstring"><pre>Returns the module to one that is not capable of hooks.

In essence this merely removes all functions from the hooks package
and deletes it.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MODULARIZE-HOOKS:HOOK"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MODULARIZE-HOOKS%3AHOOK">HOOK</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">MODULE</li>    <li class="argument">ERROR</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/modularize-hooks/blob/5c46dec3e045d1f5c7fe92a4a920841abe766439/hooks.lisp#L57">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MODULARIZE-HOOKS:(SETF HOOK)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MODULARIZE-HOOKS%3A%28SETF%20HOOK%29">(SETF HOOK)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">HOOK</li>    <li class="argument">NAME</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">MODULE</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/modularize-hooks/blob/5c46dec3e045d1f5c7fe92a4a920841abe766439/hooks.lisp#L61">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MODULARIZE-HOOKS:HOOKIFY"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MODULARIZE-HOOKS%3AHOOKIFY">HOOKIFY</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">MODULE</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/modularize-hooks/blob/5c46dec3e045d1f5c7fe92a4a920841abe766439/hooks.lisp#L6">Source</a>  </header> <div class="docstring"><pre>Turns the module into one capable of hooks.

In essence this merely defines a new package with a matching name.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MODULARIZE-HOOKS:LIST-HOOKS"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MODULARIZE-HOOKS%3ALIST-HOOKS">LIST-HOOKS</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">MODULE</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/modularize-hooks/blob/5c46dec3e045d1f5c7fe92a4a920841abe766439/hooks.lisp#L53">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MODULARIZE-HOOKS:REMOVE-HOOK"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MODULARIZE-HOOKS%3AREMOVE-HOOK">REMOVE-HOOK</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">MODULE</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/modularize-hooks/blob/5c46dec3e045d1f5c7fe92a4a920841abe766439/hooks.lisp#L64">Source</a>  </header> <div class="docstring"><pre>Removes the hook as named.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MODULARIZE-HOOKS:REMOVE-TRIGGER"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MODULARIZE-HOOKS%3AREMOVE-TRIGGER">REMOVE-TRIGGER</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">HOOK</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">IDENT</li>    <li class="argument">MODULE</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/modularize-hooks/blob/5c46dec3e045d1f5c7fe92a4a920841abe766439/hooks.lisp#L108">Source</a>  </header> <div class="docstring"><pre>Attempts to remove the trigger from the hook.</pre></div> </article> </li>  <li> <article class="definition function callable" id="FUNCTION MODULARIZE-HOOKS:TRIGGER"> <header> <span class="visibility">EXTERNAL</span> <span class="type">FUNCTION</span> <h4 class="name"> <a href="#FUNCTION%20MODULARIZE-HOOKS%3ATRIGGER">TRIGGER</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">HOOK</li>    <li class="argument lambda-list-keyword">&amp;REST</li>    <li class="argument">ARGS</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/modularize-hooks/blob/5c46dec3e045d1f5c7fe92a4a920841abe766439/hooks.lisp#L130">Source</a>  </header> <div class="docstring"><pre>Calls all triggers registered on the hook with the given arguments.</pre></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION MODULARIZE-HOOKS:ARGLIST"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20MODULARIZE-HOOKS%3AARGLIST">ARGLIST</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION MODULARIZE-HOOKS:(SETF ARGLIST)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20MODULARIZE-HOOKS%3A%28SETF%20ARGLIST%29">(SETF ARGLIST)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION MODULARIZE-HOOKS:DOCSTRING"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20MODULARIZE-HOOKS%3ADOCSTRING">DOCSTRING</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION MODULARIZE-HOOKS:(SETF DOCSTRING)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20MODULARIZE-HOOKS%3A%28SETF%20DOCSTRING%29">(SETF DOCSTRING)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION MODULARIZE-HOOKS:NAME"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20MODULARIZE-HOOKS%3ANAME">NAME</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">OBJECT</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition generic-function callable" id="GENERIC-FUNCTION MODULARIZE-HOOKS:(SETF NAME)"> <header> <span class="visibility">EXTERNAL</span> <span class="type">GENERIC-FUNCTION</span> <h4 class="name"> <a href="#GENERIC-FUNCTION%20MODULARIZE-HOOKS%3A%28SETF%20NAME%29">(SETF NAME)</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NEW-VALUE</li>    <li class="argument">OBJECT</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION MODULARIZE-HOOKS:DEFINE-HOOK"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20MODULARIZE-HOOKS%3ADEFINE-HOOK">DEFINE-HOOK</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">NAME</li>    <li class="argument">ARGS</li>    <li class="argument lambda-list-keyword">&amp;OPTIONAL</li>    <li class="argument">DOCUMENTATION</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/modularize-hooks/blob/5c46dec3e045d1f5c7fe92a4a920841abe766439/hooks.lisp#L68">Source</a>  </header> <div class="docstring"><pre>Defines a new hook on which triggers can be defined.
The name should be a symbol from the module that the hook should belong to.</pre></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION MODULARIZE-HOOKS:DEFINE-HOOK-SWITCH"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20MODULARIZE-HOOKS%3ADEFINE-HOOK-SWITCH">DEFINE-HOOK-SWITCH</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">ON</li>    <li class="argument">OFF</li>    <li class="argument">ARGS</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/modularize-hooks/blob/5c46dec3e045d1f5c7fe92a4a920841abe766439/hooks.lisp#L149">Source</a>  </header> <div class="docstring"><i>No documentation provided.</i></div> </article> </li>  <li> <article class="definition macro callable" id="MACRO-FUNCTION MODULARIZE-HOOKS:DEFINE-TRIGGER"> <header> <span class="visibility">EXTERNAL</span> <span class="type">MACRO</span> <h4 class="name"> <a href="#MACRO-FUNCTION%20MODULARIZE-HOOKS%3ADEFINE-TRIGGER">DEFINE-TRIGGER</a> </h4> <ul class="qualifiers"></ul> <ul class="arguments">  <li class="argument">HOOK</li>    <li class="argument">ARGS</li>    <li class="argument lambda-list-keyword">&amp;BODY</li>    <li class="argument">BODY</li>    <li class="argument lambda-list-keyword">&amp;REST</li>  </ul>  <a class="source-link" href="https://github.com/Shinmera/modularize-hooks/blob/5c46dec3e045d1f5c7fe92a4a920841abe766439/hooks.lisp#L112">Source</a>  </header> <div class="docstring"><pre>Defines a new trigger on the hook.
A trigger can either accept no arguments or it has to match the hook in its arguments list.
The name of the trigger defaults to the *PACKAGE*. If you want to have multiple triggers for
the same hook in the same package, use a list of the following structure as the HOOK argument:
 (hook trigger-name hook-module)</pre></div> </article> </li> </ul> </article> </li> </ul> </section>  </article> <script>window.addEventListener("DOMContentLoaded", function(){
    var unmarkElement = function(el){
        if(el.tagName === "mark" || el.tagName === "MARK"){
            [].forEach.call(el.childNodes, function(child){
                el.parentNode.insertBefore(child, el);
            });
            el.parentNode.removeChild(el);
        }else if(el.parentNode.tagName === "mark"){
            return unmarkElement(el.parentNode);
        }
        return null;
    }

    var unmarkAll = function(root){
        root = root || document;
        [].forEach.call(root.querySelectorAll("mark"), unmarkElement);
    }
    
    var markElement = function(el){
        if(el.parentNode.tagName === "mark" || el.parentNode.tagName === "MARK"){
            return el.parentNode;
        } else {
            unmarkAll();
            var marked = document.createElement("mark");
            el.parentNode.insertBefore(marked, el);
            marked.appendChild(el);
            return marked;
        }
    }

    var markFragmented = function(){
        if(window.location.hash){
            var el = document.getElementById(decodeURIComponent(window.location.hash.substr(1)));
            if(el) markElement(el);
        }
    }

    var registerXrefLink = function(link){
        var el = document.getElementById(decodeURIComponent(link.getAttribute("href").substr(1)));
        if(el){
            link.addEventListener("click", function(){
                markElement(el);
            });
        }
    }

    var registerXrefLinks = function(root){
        root = root || document;
        [].forEach.call(root.querySelectorAll("a.xref"), registerXrefLink);
    }

    markFragmented();
    registerXrefLinks();
}); </script> </body> </html> 